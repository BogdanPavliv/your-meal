function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,(function(){"use strict";var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,r=t&&"classList"in document.createElement("p"),o={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_poster:"poster",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},c=function(t,e){var n,r=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},a=function(t,e){return t.getAttribute("data-"+e)},i=function(t,e,n){var r="data-"+e;null!==n?t.setAttribute(r,n):t.removeAttribute(r)},s=function(t){return"true"===a(t,"was-processed")},l=function(t,e){return i(t,"ll-timeout",e)},u=function(t){return a(t,"ll-timeout")},d=function(t,e,n,r){t&&(void 0===r?void 0===n?t(e):t(e,n):t(e,n,r))},p=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&d(t._settings.callback_finish,t)},_=function(t){for(var e,n=[],r=0;e=t.children[r];r+=1)"SOURCE"===e.tagName&&n.push(e);return n},m=function(t,e,n){n&&t.setAttribute(e,n)},f=function(t,e){m(t,"sizes",a(t,e.data_sizes)),m(t,"srcset",a(t,e.data_srcset)),m(t,"src",a(t,e.data_src))},y={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&_(n).forEach((function(t){f(t,e)})),f(t,e)},IFRAME:function(t,e){m(t,"src",a(t,e.data_src))},VIDEO:function(t,e){_(t).forEach((function(t){m(t,"src",a(t,e.data_src))})),m(t,"poster",a(t,e.data_poster)),m(t,"src",a(t,e.data_src)),t.load()}},v=function(t,e){r?t.classList.add(e):t.className+=(t.className?" ":"")+e},b=function(t,e){r?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},g=function(t,e,n){t.addEventListener(e,n)},h=function(t,e,n){t.removeEventListener(e,n)},q=function(t,e,n){h(t,"load",e),h(t,"loadeddata",e),h(t,"error",n)},S=function(t,e,n){var r=n._settings,o=e?r.class_loaded:r.class_error,c=e?r.callback_loaded:r.callback_error,a=t.target;b(a,r.class_loading),v(a,o),d(c,a,n),p(n,-1)},L=["IMG","IFRAME","VIDEO"],A=function(t,e){var n=e._observer;w(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},E=function(t){var e=u(t);e&&(clearTimeout(e),l(t,null))},w=function(t,e,n){var r=e._settings;!n&&s(t)||(L.indexOf(t.tagName)>-1&&(function(t,e){var n=function n(o){S(o,!0,e),q(t,n,r)},r=function r(o){S(o,!1,e),q(t,n,r)};!function(t,e,n){g(t,"load",e),g(t,"loadeddata",e),g(t,"error",n)}(t,n,r)}(t,e),v(t,r.class_loading)),function(t,e){var n,r,o=e._settings,c=t.tagName,i=y[c];if(i)return i(t,o),p(e,1),void(e._elements=(n=e._elements,r=t,n.filter((function(t){return t!==r}))));!function(t,e){var n=a(t,e.data_src),r=a(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),r&&(t.style.backgroundImage=r)}(t,o)}(t,e),function(t){i(t,"was-processed","true")}(t),d(r.callback_reveal,t,e),d(r.callback_set,t,e))},x=function(t){return!!n&&(t._observer=new IntersectionObserver((function(e){e.forEach((function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e,n){var r=n._settings;d(r.callback_enter,t,e,n),r.load_delay?function(t,e){var n=e._settings.load_delay,r=u(t);r||(r=setTimeout((function(){A(t,e),E(t)}),n),l(t,r))}(t,n):A(t,n)}(e.target,e,t):function(t,e,n){var r=n._settings;d(r.callback_exit,t,e,n),r.load_delay&&E(t)}(e.target,e,t)}))}),{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},C=["IMG","IFRAME"],j=function(t,e){return function(t){return t.filter((function(t){return!s(t)}))}((n=t||function(t){return t.container.querySelectorAll(t.elements_selector)}(e),Array.prototype.slice.call(n)));var n},k=function(e,n){var r;this._settings=function(t){return _extends({},o,t)}(e),this._loadingCount=0,x(this),this.update(n),r=this,t&&window.addEventListener("online",(function(t){!function(t){var e=t._settings;_toConsumableArray(e.container.querySelectorAll("."+e.class_error)).forEach((function(t){b(t,e.class_error),function(t){i(t,"was-processed",null)}(t)})),t.update()}(r)}))};return k.prototype={update:function(t){var n,r=this,o=this._settings;this._elements=j(t,o),!e&&this._observer?(function(t){return t.use_native&&"loading"in HTMLImageElement.prototype}(o)&&((n=this)._elements.forEach((function(t){-1!==C.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),w(t,n))})),this._elements=j(t,o)),this._elements.forEach((function(t){r._observer.observe(t)}))):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach((function(e){t._observer.unobserve(e)})),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){w(t,this,e)},loadAll:function(){var t=this;this._elements.forEach((function(e){A(e,t)}))}},t&&function(t,e){if(e)if(e.length)for(var n,r=0;n=e[r];r+=1)c(t,n);else c(t,e)}(k,window.lazyLoadOptions),k})),function(){var t;if(!1===(!(!(t=document.createElement("canvas")).getContext||!t.getContext("2d"))&&0==t.toDataURL("image/webp").indexOf("data:image/webp")))for(var e=document.querySelectorAll("[data-src-replace-webp]"),n=0;n<e.length;n+=1){var r=e[n],o=r.getAttribute("data-src-replace-webp");null!==o&&r.setAttribute("data-src",o)}new LazyLoad({elements_selector:".lazy"})}(),window.myLib={},window.myLib.body=document.querySelector("body"),window.myLib.closestAttr=function(t,e){for(var n=t;n;){var r=n.getAttribute(e);if(r)return r;n=n.parentElement}return null},window.myLib.closestItemByClass=function(t,e){for(var n=t;n;){if(n.classList.contains(e))return n;n=n.parentElement}return null},window.myLib.toggleScroll=function(){myLib.body.classList.toggle("no-scroll")},function(){var t=function(t){t.classList.remove("is-active")};myLib.body.addEventListener("click",(function(t){var e=t.target,n=myLib.closestAttr(e,"data-popup");if(null!==n){t.preventDefault();var r=document.querySelector("."+n);r&&(!function(t){t.classList.add("is-active")}(r),myLib.toggleScroll())}})),myLib.body.addEventListener("click",(function(e){var n=e.target;if(n.classList.contains("popup-close")||n.classList.contains("popup__inner")){var r=myLib.closestItemByClass(n,"popup");t(r),myLib.toggleScroll()}})),myLib.body.addEventListener("keydown",(function(e){if(27===e.keyCode){var n=document.querySelector(".popup.is-active");n&&(t(n),myLib.toggleScroll())}}))}(),document.querySelectorAll(".catalog-nav__btn").forEach((t=>t.addEventListener("click",(function(e){e.preventDefault();const n=e.currentTarget.getAttribute("href").replace("#","");document.querySelectorAll(".catalog-nav__btn").forEach((t=>t.classList.remove("catalog-nav__btn--active"))),document.querySelectorAll(".catalog__content-item").forEach((t=>t.classList.remove("catalog__content-item--active"))),document.querySelector(".catalog__title").textContent=t.textContent,t.classList.add("catalog-nav__btn--active"),document.getElementById(n).classList.add("catalog__content-item--active")})))),document.querySelector(".catalog-nav__btn").click(),function(){var t=document.querySelector(".catalog");if(null!==t){t.addEventListener("click",(function(t){var e=t.target;e.classList.contains("product__btn")&&(t.preventDefault(),function(t){var e=myLib.closestItemByClass(t,"product"),n=document.querySelector(".popup-products"),r=e.querySelector(".product__title").textContent,o=e.querySelector(".product__weight").textContent,c=e.querySelector(".product__price--value").textContent,a=e.querySelector(".product__img").getAttribute("src"),i=e.querySelector(".product__description--text").textContent,s=(o=e.querySelector(".product__weight--value").textContent,e.querySelector(".product__nutrition--value").textContent);n.querySelector(".popup__title").textContent=r,n.querySelector(".popup-product__price-value").textContent=c,n.querySelector(".popup-product__img").setAttribute("src",a),n.querySelector(".popup-product__description--text").textContent=i,n.querySelector(".popup-product__weight").textContent=o,n.querySelector(".popup-product__nutrition").textContent=s;var l=e.querySelectorAll(".product__description--list-item"),u=n.querySelectorAll(".product__description--list-item");for(let t=0;t<l.length;t++){const e=l[t];for(let n=0;n<u.length;n++)u[t].textContent=e.textContent}}(e))}))}}(),function(){const t=document.querySelector(".js-cart");if(!t)return;const e=JSON.parse(localStorage.getItem("cart"))||{},n=document.querySelector(".js-cart-total-count-items"),r=document.querySelector(".js-cart-total-price"),o=document.querySelector(".js-cart-total-price-input"),c=document.querySelector(".section__card"),a=({id:e,name:n,price:r,weight:o,src:c,quantity:a})=>{const i=document.createElement("div"),s=`\n        <div class="cart-item cart__item">\n          <div class="cart-item__main">\n            <button class="cart-item__btn cart-item__btn--remove js-btn-cart-item-remove" type="button">\n              Видалити\n            </button>\n            <div class="cart-item__product">\t\t\t\t\t\t\t\t\t\t\t\n                <img class="cart-item__img lazy" src="${c}" alt="" >\t\t\t\t\t\t\t\t\t\t\t\t\n                <div class="cart-item__content">\n                    <h3 class="cart-item__title">${n}</h3>\n                    <input type="hidden" name="${e}-Товар" value="${n}">\n                    <input class="js-cart-input-quantity" type="hidden" name="${e}-Кількість" value="${a}">\n                    <p class="cart-item__weight">${o}</p>\n                    <input type="hidden" name="${e}-Вага" value="${o}">   \n                    <p class="cart-item__price"><span class="js-cart-item-price">${r*a}</span> грн.</p>\n                    <input class="js-cart-input-price" type="hidden" name="${e}-Ціна" value="${r*a}">\n                    <input class="js-cart-total-price-input" type="hidden" name="Загальна сума">\n                </div>\n          </div>\t\t\t\t\t\t\t\t\t\t\n          <div class="cart-item__end">\n            <div class="cart-item__actions">\n                    <button class="cart-item__btn js-btn-product-decrease-quantity" type="button">-</button>\n                    <span class="cart-item__quantity js-cart-item-quantity">${a}</span>\n                    <button class="cart-item__btn js-btn-product-increase-quantity" type="button">+</button>\n            </div>\n          </div>\n          </div>\n        </div>\n      `;i.innerHTML=s,i.setAttribute("data-product-id",e),i.classList.add("js-cart-item"),t.appendChild(i)},i=()=>{const t=(()=>{const t=Object.keys(e).reduce(((t,n)=>{const{quantity:r}=e[n];return t+r}),0);return n&&(n.textContent=t),t})();(()=>{const t=Object.keys(e).reduce(((t,n)=>{const{quantity:r,price:o}=e[n];return t+o*r}),0);r&&(r.textContent=t),o&&(o.value=t)})(),localStorage.setItem("cart",JSON.stringify(e)),0===t?c.classList.add("is-empty"):c.classList.remove("is-empty")},s=n=>{const r=t.querySelector(`[data-product-id="${n}"]`);t.removeChild(r),delete e[n],i()},l=(n,r)=>{const o=t.querySelector(`[data-product-id="${n}"]`),c=o.querySelector(".js-cart-item-quantity"),a=o.querySelector(".js-cart-item-price"),s=o.querySelector(".js-cart-input-price"),l=o.querySelector(".js-cart-input-quantity");e[n].quantity=r,c.textContent=r,a.textContent=r*e[n].price,s.value=r*e[n].price,l.value=r,i()},u=t=>{const n=e[t].quantity+1;l(t,n)},d=()=>{Object.keys(e).forEach((t=>s(e[t].id)))};var p,_;(()=>{var t=document.querySelector(".section__card--name");document.querySelector(".section__card--text");t.addEventListener("click",(function(){c.classList.remove("is-empty","cart__collapse")}))})(),p=document.querySelector(".cart__collapse--btn"),_=document.querySelector(".section__card--text"),p.addEventListener("click",(function(){c.classList.add("is-empty","cart__collapse"),_.classList.add("cart__empty")})),Object.keys(e).forEach((t=>a(e[t]))),i(),document.addEventListener("reset-cart",d),document.querySelector("body").addEventListener("click",(t=>{const n=t.target;if(n.classList.contains("js-btn-add-to-cart")){t.preventDefault();const r=(t=>{const e=t.querySelector(".popup__title").textContent;return{name:e,price:t.querySelector(".popup-product__price-value").textContent,weight:t.querySelector(".popup-product__weight").textContent,src:t.querySelector(".popup-product__img").getAttribute("src"),quantity:1,id:`${e}`.replace(/ /g,"-")}})(n.closest(".js-product"));(t=>{const{id:n}=t;e[n]?u(n):(e[n]=t,a(t),i())})(r)}if(n.classList.contains("js-btn-cart-item-remove")){t.preventDefault();const e=n.closest(".js-cart-item").getAttribute("data-product-id");s(e)}if(n.classList.contains("js-btn-product-increase-quantity")){t.preventDefault();const e=n.closest(".js-cart-item").getAttribute("data-product-id");u(e)}if(n.classList.contains("js-btn-product-decrease-quantity")&&(t.preventDefault(),(t=>{const n=e[t].quantity-1;n>=1&&l(t,n)})(n.closest(".js-cart-item").getAttribute("data-product-id"))),n.classList.contains("js-btn-product-attribute")){t.preventDefault();const e=n.getAttribute("data-product-attribute-value"),r=n.getAttribute("data-product-attribute-price"),o=n.closest(".js-product"),c=o.querySelector(".js-btn-product-attribute.is-active");o.querySelector(".js-product-price-value").textContent=r,o.setAttribute("data-product-attribute",e),o.setAttribute("data-product-price",r),c.classList.remove("is-active"),n.classList.add("is-active")}}))}(),function(){const t=document.querySelectorAll(".options__input"),e=(document.querySelector(".form__input.address"),document.querySelector(".form__input.floor"),document.querySelector(".form__input.intercom"),document.querySelector(".form-send__bootom"));t.forEach((t=>{t.addEventListener("click",(function(t){const n=t.target;"delivery"===n.value&&!0===n.checked?e.classList.add("form-send__bootom--active"):e.classList.remove("form-send__bootom--active")}))}))}(),function(){var t=document.querySelector(".cart");if(null!==t){t.addEventListener("click",(function(t){target=t.target,target.classList.contains("popup-product__btn")&&(t.preventDefault(),function(t){var e=document.querySelector(".cart__items"),n=document.querySelector(".popup-delivery"),r=e.querySelectorAll(".cart-item__title"),o=e.querySelectorAll(".js-cart-item-price"),c=e.querySelectorAll(".cart-item__weight"),a=e.querySelectorAll(".js-cart-item-quantity"),i=document.querySelector(".js-cart-total-price").textContent,s=document.querySelector(".js-cart-total-count-items").textContent,l=[];r.forEach((t=>{l.push(t.textContent),n.querySelector(".order-info-title").setAttribute("value",l)}));var u=[];o.forEach((t=>{u.push(t.textContent),n.querySelector(".order-info-price").setAttribute("value",u)}));var d=[];c.forEach((t=>{d.push(t.textContent),n.querySelector(".order-info-weight").setAttribute("value",d)}));var p=[];a.forEach((t=>{p.push(t.textContent),n.querySelector(".order-info-quantity").setAttribute("value",p)})),n.querySelector(".order-info-total-price-input").setAttribute("value",i),n.querySelector(".order-info-total-count-items").setAttribute("value",s)}(target))}))}}(),function(){var t=document.querySelectorAll(".form-send");if(0!==t.length)for(var e=function(t){t.classList.add("form__input--error"),console.log(t)},n=function(t){var n=function(t){for(var e=t.querySelectorAll("._serialize"),n="",r=0;r<e.length;r+=1){var o=e[r],c=o.name,a=o.value,i=0===r?"":"&";console.log(o),a&&(n+=i+c+"="+a)}return n}(t),r=new XMLHttpRequest;r.open("POST","mail.php"),r.setRequestHeader("Content-Type","application/x-www-form-unlencoded"),r.onload=function(){let n=function(t){let n=0,r=t.querySelectorAll("._req");for(let t=0;t<r.length;t++){const o=r[t];console.log(o.value),""==o.value&&(e(o),console.log(o.value),n++)}return n}(t);console.log(n),0===n?"success"===r.response?(document.querySelectorAll(".form__input").forEach((t=>t.classList.remove("form__input--error"))),document.querySelector(".popup-thanks").classList.add("is-active")):(document.querySelectorAll(".form__input").forEach((t=>t.classList.remove("form__input--error"))),document.querySelector(".popup-delivery").classList.remove("is-active"),document.querySelector(".popup-error").classList.add("is-active")):alert("Заповніть обов'язкові поля"),t.reset()},r.send(n)},r=0;r<t.length;r+=1)t[r].addEventListener("submit",(function(t){t.preventDefault();var e=t.currentTarget;n(e)}))}();